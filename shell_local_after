# autojump config
[[ -s /usr/share/autojump/autojump.sh ]] && source /usr/share/autojump/autojump.sh

# PATH
path_prepend "$HOME/.local/bin"

# Go
export PATH="/usr/local/go/bin:$PATH"
export GOPATH="$HOME/go"
export PATH="$GOPATH/bin:$PATH"

# Add scripts to path

path_prepend "$HOME/.dotfiles_local/bin"

# Update local dotfiles
ldfu() {
    declare -f dfu > /dev/null && dfu &&
    (
        cd ~/.dotfiles_local && git pull --ff-only && ./install -q
    )
}

# Aliases and Functions
backup-ts100() {
    time (
        rsync -avP --delete /media/raid2/home/data2/Media ts100:/home/founder/server_backup &&
            rsync -avP --delete /media/raid/home/data ts100:/media/data/server_backup
    )
}

borg-summary-for() {
    user="$1"
    repo="$2"
    echo "=== $user @ $repo ==="
    echo
    sudo su $user -c "borg info $repo"
    sudo su $user -c "borg list --last 5 $repo"
}

borg-summary() {
    sudo -v
    borg-summary-for anish /media/raid2/borg/anish
    echo
    borg-summary-for manisha /media/raid2/borg/manisha
    echo
    borg-summary-for ratnakar /media/raid2/borg/ratnakar
}

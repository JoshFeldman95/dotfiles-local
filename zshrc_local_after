# autojump config
[[ -s /usr/local/google/home/aathalye/.autojump/etc/profile.d/autojump.sh ]] && source /usr/local/google/home/aathalye/.autojump/etc/profile.d/autojump.sh
autoload -U compinit && compinit -u

# make it easier to insert unicode characters
autoload insert-unicode-char && zle -N insert-unicode-char
bindkey '^X' insert-unicode-char

# android build tools
export PATH=${PATH/\/usr\/local\/buildtools\/java\/jdk\/bin:/}

# aliases
alias rs='repo sync -c -j256'
alias prodaccess='prodaccess -g'

# push and jump
function pj() {
    pushd "$(autojump $@)"
}

# open development environment
function initdev() {
    bash --rcfile <(echo ". ${HOME}/.bashrc && cd /media/ssd/aathalye/src/android/master && . ./build/envsetup.sh && lunch ${1} && inferdevice")
}

# prompt settings
RPR_SHOW_USER=false
RPR_SHOW_HOST=false

# Update local dotfiles
function ldfu() {
    declare -f dfu > /dev/null && dfu &&
    (
        cd ~/.dotfiles_local && git pullff && ./install -q
    )
}

# keychain
if keychain_loc="$(type -p 'keychain')" && [ -n "$keychain_loc" ]; then
    eval $(keychain --eval --agents ssh --quiet id_rsa)
fi
